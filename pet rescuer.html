<!DOCTYPE html>
<html>
  <head>
    <title>Pet Rescuer</title>
    <link rel="stylesheet" href="pet rescuer.css" />
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var logo = document.querySelector(".logo img");
        var logoUrl = localStorage.getItem("logoUrl");
        if (logoUrl) {
          logo.src = logoUrl;
        } else {
          logoUrl = "images/pet.png";
          localStorage.setItem("logoUrl", logoUrl);
          logo.src = logoUrl;
        }
      });

      function checkLogin() {
        var token = localStorage.getItem("token");
        if (!token) {
          alert("You need to login first!");
          window.location.href = "login.html";
        } else {
          window.location.href = "pet rescuer.html";
        }
      }
    </script>
  </head>
  <body>
    <nav>
      <div class="navbar">
        <a href="index.html" class="logo">
          <img src="D:\Pet Adoption Management\images\pet.png" alt="Logo" />
          <span class="logo-text">Pet Adoption Hub</span>
        </a>
        <div class="navbar-left">
          <a href="#" onclick="checkLogin()">Pet Rescuer</a>
          <a href="findpet.html">Find a Pet</a>
          <a href="#">How it Works</a>
          <a href="#">Furry Stories</a>
        </div>
        <div class="navbar-right" id="navbarRight">
          <span id="loggedInUser" style="display: none"></span>
          <a href="signup.html" class="signup-button" id="signupButton">Sign Up</a>
          <a href="login.html" class="login-button" id="loginButton">Log In</a>
          <a href="signout.html" class="signout-button" id="signoutButton" style="display: none;">Sign Out</a>
        </div>
      </div>
    </nav>
    <h1>Pet Rescuer Form</h1>
    <form id="petRescuerForm">
      <label for="username">Username:</label>
      <input type="text" id="username" readonly required /><br />

      <label for="email">Email:</label>
      <input type="email" id="email" readonly required /><br />

      <label for="phoneNumber">Phone Number:</label>
      <input type="tel" id="phoneNumber" readonly required /><br />

      <label for="petName">Pet Name:</label>
      <input type="text" id="petName" required /><br />

      <label for="petType">Pet Type:</label>
      <input type="text" id="petType" required /><br />

      <label for="petBreed">Pet Breed:</label>
      <input type="text" id="petBreed" required /><br />

      <label for="petAge">Pet Age:</label>
      <input type="number" id="petAge" required /><br />

      <label for="petDescription">Pet Description:</label>
      <textarea id="petDescription" required></textarea><br />

      <button type="submit">Submit</button>
    </form>
    <script src="pet rescuer.js"></script>
    <script src="utils.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var token = localStorage.getItem("token");
        var loggedInUsername = localStorage.getItem("loggedInUsername");
        var signupButton = document.getElementById("signupButton");
        var loginButton = document.getElementById("loginButton");
        var loggedInUser = document.getElementById("loggedInUser");
        var signoutButton = document.getElementById("signoutButton");

        if (token && loggedInUsername) {
          signupButton.style.display = "none";
          loginButton.style.display = "none";
          loggedInUser.style.display = "inline-block";
          loggedInUser.textContent = "Welcome, " + loggedInUsername;
          signoutButton.style.display = "inline-block";
        }
      });
    </script>
  </body>
</html>
